#ifndef DX_ESP_CONFIG_PAGE_HTML_H
#define DX_ESP_CONFIG_PAGE_HTML_H
const char ESP_CONFIG_HTML[] PROGMEM = "<!doctypehtml><meta content=width=device-width,initial-scale=1 name=viewport><title>{{name}} - Config</title><style>button{color:#cfd8dc;filter:drop-shadow(0 4px 3px #00000012)drop-shadow(0 2px 2px #0000000f);cursor:pointer;background-color:#42424280;border:none;border-radius:8px;padding:1rem 1.5rem;font-size:1em}button:hover{background-color:#424242f2;transition:all .15s linear}.icon-btn{justify-content:center;align-items:center;width:36px;height:36px;padding:.5rem;display:flex;border-radius:100%!important}.icon-btn svg{width:100%;height:100%}.cont-files>button{border-radius:unset;cursor:unset;justify-content:space-between;align-items:center;display:flex}.cont-files>button:hover{background-color:#42424280}.cont-files :first-child{border-top-left-radius:8px;border-top-right-radius:8px}.cont-files :last-child{border-bottom-right-radius:8px;border-bottom-left-radius:8px}.small-btn{padding:.7rem 1.2rem;font-size:.85em}.title-text{color:#bdbdbd;width:fit-content;margin-left:auto;margin-right:auto;font-size:.8em}input{color:#cfd8dc;background-color:#fff0;border:1px solid gray;border-radius:4px;outline:none;padding:.5rem}.cont{flex-direction:column;justify-content:center;align-items:stretch;gap:1rem;margin:2rem auto 0;display:flex}.small{width:300px}.med{width:500px}.loader{border:1px solid #cfd8dc;border-radius:10px;min-width:80%;max-width:80%;height:12px;display:block;position:relative;overflow:hidden}.loader:after{content:\"\";width:inherit;background:#ff3d00;height:100%;transition:width .5s ease-in-out;position:absolute;top:0;left:0}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-khtml-user-select:none}.toggle{background-color:#42424280;border:1px solid #424242cc;border-radius:4px;justify-content:space-between;align-items:center;padding:.4rem;font-size:.85em;display:flex;position:relative}.toggle>*{border-radius:4px;padding:.4rem .6rem;display:block}.toggle>:first-child{margin-right:.4rem}.toggle .select{color:#2c2c2c;cursor:unset;z-index:9999;background-color:#cfd8dc;transition:left .1s ease-in-out;position:absolute}.toggle>:not(.select){cursor:pointer}.toggle>:not(.select):hover{background-color:#59595999;transition:all .15s linear}</style><body style=color:#cfd8dc;background-color:#212121;font-family:sans-serif;overflow:auto><div id=ota-panel><p class=title-text style=margin-top:2rem;margin-bottom:-1rem>OTA UPDATE<div class=\"cont med\"id=ota-start-div style=align-items:center><span class=loader id=ota-loader style=display:none></span><div class=\"toggle noselect\"id=select-toggle><span onclick=\"changeUploadMode(this, true)\">Firmware</span><span onclick=\"changeUploadMode(this, false)\">Filesystem</span><span class=select>Firmware</span></div><button id=ota-upload-file-btn onclick=onOtaUpload() style=justify-content:center;align-items:center;padding:.8em;font-size:.9em;display:flex><svg viewbox=\"0 -960 960 960\"fill=#e8eaed height=18px width=18px xmlns=http://www.w3.org/2000/svg><path d=\"M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z\"/></svg> <span style=margin-left:.5rem>Upload file</span></button><input accept=.bin,.bin.gz id=ota-file-input name=update onchange=onOtaUpload(true) style=display:none type=file></div></div><div id=settings-panel><div class=\"cont med\"><hr style=width:100%></div><p class=title-text style=margin-top:2rem>SETTINGS<div style=\"flex-direction:column;justify-content:center;align-items:stretch;gap:1rem;width:300px;margin:2rem auto 0;display:flex\">{{custom-actions}}</div><div class=\"cont med\"id=env-div><hr style=width:100%><p class=title-text style=margin-top:0>ENVIRONMENT VARIABLES</p> {{env}} <button onclick=save() style=width:fit-content;margin-top:2rem;margin-left:auto;margin-right:auto>Save</button><label style=\"margin:0 auto\"id=status></label></div></div><div class=\"cont med\"id=file-nav><div style=justify-content:center;align-items:center;margin-top:2rem;display:flex><p style=\"margin:0 0 1.2rem\"class=title-text>FILE NAVIGATION</div><div style=justify-content:center;align-items:center;display:flex><button onclick=\"goBack(); return false;\"title=\"Go back\"class=icon-btn style=width:24px;height:24px>..</button><button style=\"margin:0 0 0 .5rem;padding:.5rem\"class=title-text id=current-path-text></button></div><div class=\"cont med cont-files\"style=\"gap:0;margin:.5rem auto -1rem\"id=files-container></div></div><div class=\"cont med\"style=align-items:center;gap:unset><hr style=width:100%><p class=title-text style=margin-bottom:-.1rem>DEVICE ID: <span style=font-weight:700>{{name}}</span><p class=title-text style=margin-bottom:-.1rem>MAC ADDRESS: <span style=font-weight:700>{{mac}}</span><p class=title-text>FREE SPACE: <span style=font-weight:700>{{space}}</span></p><button class=small-btn id=browser-btn onclick=browserMode()>File browser</button><button class=small-btn id=settings-btn onclick=settingsMode()>Settings</button></div><button title=\"Delete file\"class=icon-btn id=delete-svg><svg viewbox=\"0 -960 960 960\"fill=#e8eaed height=24px width=24px xmlns=http://www.w3.org/2000/svg><path d=\"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z\"/></svg></button><button title=\"Download file\"class=icon-btn id=download-svg style=margin-right:.5rem><svg viewbox=\"0 -960 960 960\"fill=#e8eaed height=24px width=24px xmlns=http://www.w3.org/2000/svg><path d=\"M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z\"/></svg></button><button class=icon-btn id=file-svg style=cursor:unset;margin-right:.5rem><svg viewbox=\"0 -960 960 960\"fill=#e8eaed height=24px width=24px xmlns=http://www.w3.org/2000/svg><path d=\"M320-240h320v-80H320v80Zm0-160h320v-80H320v80ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z\"/></svg></button><button title=\"Open directory\"class=icon-btn id=folder-svg style=margin-right:.5rem><svg viewbox=\"0 -960 960 960\"fill=#e8eaed height=24px style=cursor:pointer width=24px xmlns=http://www.w3.org/2000/svg><path d=\"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h240l80 80h320q33 0 56.5 23.5T880-640H447l-80-80H160v480l96-320h684L837-217q-8 26-29.5 41.5T760-160H160Zm84-80h516l72-240H316l-72 240Zm0 0 72-240-72 240Zm-84-400v-80 80Z\"/></svg></button><script>var changeUploadMode=((a,b)=>{isUploadFirmware=b;const c=document.getElementById(`select-toggle`);const d=c.querySelector(`.select`);d.style.left=a.offsetLeft+ `px`;d.innerText=a.innerText});var onOtaUpload=(a=>{let g=100,d=0,f=`%`,e=`none`;const b=document.getElementById(`ota-file-input`);const c=document.getElementById(`ota-submit`);if(a){const a=b.files[d];if(a){settingsDiv.style.display=e;fileNavDiv.style.display=e;settingsBtn.style.display=e;browserBtn.style.display=e;document.getElementById(`ota-upload-file-btn`).style.display=e;document.getElementById(`select-toggle`).style.display=e;otaLoader.style.display=`unset`;otaLoader.style.width=d+ f;const b=new FormData();b.append(`update`,a);const c=new XMLHttpRequest();c.open(`POST`,`/config/update/`+ (isUploadFirmware?`firmware`:`filesystem`));let h=d;c.upload.onprogress=a=>{if(a.lengthComputable){var b=a.total;var c=a.loaded;h=(c*g)/b}};let i=!1;let j;j=setInterval(()=>{if(i){clearInterval(j);return};otaLoader.style.width=h+ f;if(h>=g){clearInterval(j);setTimeout(()=>{alert(`Upload completed successfully!`);location.reload()},650)}},600);c.send(b);c.onreadystatechange=function(){if(this.readyState!==4)return;const a=this.status===200;if(!a){i=!0;alert(`Error during OTA update: ${this.responseText}`);location.reload()}}};return};b.value=null;b.click()});var resetWireless=(()=>{if(confirm(`Reset all wireless settings?`)){doRequest(`reset`,``,`POST`)}});var browserMode=(()=>{let a=`unset`,b=`none`;settingsBtn.style.display=a;browserBtn.style.display=b;settingsDiv.style.display=b;fileNavDiv.style.display=a;otaPanel.style.display=b;updateFiles()});var save=(()=>{const a=document.querySelectorAll(`.env-input`);const b={};a.forEach(a=>{b[a.id.split(`input-`,2)[1]]=a.value});if(window.confirm(`Save environment variables?`)){let a=``;Object.keys(b).forEach(c=>a+=`${c}:${b[c]};`);doRequest(`save`,a,`POST`,(a,b)=>{alert(a?`Environment saved successfully!`:`Error while saving: ${b}`);location.reload()})}});var goBack=(()=>{let a=`/`;currentBrowserPath=currentBrowserPath.substring(0,currentBrowserPath.lastIndexOf(a));if(!currentBrowserPath||currentBrowserPath===``){currentBrowserPath=a};updateFiles()});var customAction=(a=>{if(confirm(`Do action: `+ a+ ` ?`)){doRequest(`customa`,a,`POST`,a=>{if(a){window.alert(`Action executed successfully!`);location.reload()}})}});var deleteFile=(a=>{if(confirm(`Delete file \"${a}\"?`)){doRequest(`files/delete`,a,`POST`,()=>{updateFiles()})}});var downloadFile=(a=>{let c=`/`;const b=new XMLHttpRequest();b.open(`POST`,(window.location.href.endsWith(c)?window.location.href:window.location.href+ c)+ `files/download`,!0);b.responseType=`blob`;b.onload=a=>{var b=a.currentTarget.response;var c=a.currentTarget.getResponseHeader(`Content-Disposition`);var d=window.URL.createObjectURL(b);var e=document.createElement(`a`);e.target=`_blank`;const f=URL.createObjectURL(b);e.href=f;e.download=c;e.click()};b.send(a)});var updateFiles=(()=>{let a=``,b=0,e=`/`,c=`div`,d=`unset`;doRequest(`files`,currentBrowserPath,`POST`,(f,g)=>{if(f){filesContainer.innerHTML=a;if(!g||g===a){const a=document.createElement(`p`);a.innerText=`No files found.`;a.style.margin=`1rem auto 0 auto`;filesContainer.appendChild(a);return};const f=[];const h=g.split(`;`);for(const c of h){if(c===a){continue};const d=c.split(`:`);f.push({name:d[b],isDir:d[1]===`true`,size:d[2]})};f.sort((a,b)=>a.name.localeCompare(b.name));for(const g of f){const f=document.createElement(`button`);f.classList.add(`small-btn`);const h=document.createElement(c);h.style.display=`flex`;h.style.alignItems=`center`;const i=(g.isDir?folderSvg:fileSvg).cloneNode(!0);i.style.display=d;i.style.marginRight=`0.5rem`;if(g.isDir){i.onclick=()=>{let c=currentBrowserPath.substring(b,currentBrowserPath.lastIndexOf(e));if(!c||c===a){c=e};currentBrowserPath=c+ g.name;updateFiles()}};h.appendChild(i);const j=document.createElement(`span`);j.innerText=g.name;h.appendChild(j);f.appendChild(h);const k=document.createElement(c);if(!g.isDir){const a=downloadSvg.cloneNode(!0);a.style.display=d;k.appendChild(a);a.onclick=()=>{downloadFile((currentBrowserPath.endsWith(e)?currentBrowserPath:currentBrowserPath+ e)+ g.name)};const b=deleteSvg.cloneNode(!0);b.style.display=d;k.appendChild(b);b.onclick=()=>{deleteFile((currentBrowserPath.endsWith(e)?currentBrowserPath:currentBrowserPath+ e)+ g.name)}};f.appendChild(k);filesContainer.appendChild(f);currentPathText.innerText=currentBrowserPath}}})});var settingsMode=(()=>{let a=`none`,b=`unset`;settingsBtn.style.display=a;browserBtn.style.display=b;settingsDiv.style.display=b;fileNavDiv.style.display=a;otaPanel.style.display=b});var doRequest=((a,b,c,d)=>{let f=`/`;var e=new XMLHttpRequest();e.open(c,(window.location.href.endsWith(f)?window.location.href:window.location.href+ f)+ a,!0);e.setRequestHeader(`Content-Type`,`text/plain`);e.send(b);e.onreadystatechange=function(){if(this.readyState!==4)return;const a=this.status===200;if(d){d(a,this.responseText)}}});let isUploadFirmware=!0;let currentBrowserPath=`/`;const arr=document.querySelectorAll(`.env-input`);if(arr.length===0){document.getElementById(`env-div`).style.display=`none`};const caArr=document.querySelectorAll(`.ca-btn`);if(caArr.length===0){document.getElementById(`settings-panel`).style.display=`none`};const filesContainer=document.getElementById(`files-container`);const settingsBtn=document.getElementById(`settings-btn`);const browserBtn=document.getElementById(`browser-btn`);const fileNavDiv=document.getElementById(`file-nav`);const settingsDiv=document.getElementById(`settings-panel`);const otaPanel=document.getElementById(`ota-panel`);settingsBtn.style.display=`none`;fileNavDiv.style.display=`none`;const deleteSvg=document.getElementById(`delete-svg`);deleteSvg.style.display=`none`;const downloadSvg=document.getElementById(`download-svg`);downloadSvg.style.display=`none`;const fileSvg=document.getElementById(`file-svg`);fileSvg.style.display=`none`;const folderSvg=document.getElementById(`folder-svg`);folderSvg.style.display=`none`;const currentPathText=document.getElementById(`current-path-text`);currentPathText.innerText=currentBrowserPath;const otaLoader=document.getElementById(`ota-loader`);changeUploadMode(document.getElementById(`select-toggle`).children[0],!0)</script>";
#endif